import{j as e}from"./ui-components-E1kookGP.js";import{r as l,L as z}from"./vendor-Bo00a0u0.js";import{o as X,p as Y,q as _,r as ee,s as g,R as T,S as ae,L as se,t as te,W as re,u as A,P as L,H as $,h as P,E as R,v as E,j as f,e as ne,k as le,l as ie,m as oe,n as ce}from"./ui-framework-_byMagRW.js";import{u as de}from"./directoryStore-HDTwRuRx.js";import{m as n}from"./index-CxZZOcZu.js";import"./data-management-BXwEc-vo.js";const be=()=>{const{searchQuery:o,setSearchQuery:d,facultyFilter:m,setFacultyFilter:b,categoryFilter:u,setCategoryFilter:j,sortBy:x,sortOrder:p,setSorting:i,getFilteredServices:v,getFaculties:N,getCategories:w,isServiceFavorite:k,toggleFavorite:U,isServiceCompleted:D}=de(),[me,ue]=l.useState(!1),[h,K]=l.useState([]),[B,M]=l.useState([]),[O,W]=l.useState([]),[c,F]=l.useState(!1),y=l.useRef(null);l.useEffect(()=>{K(v()),M(N()),W(w())},[o,m,u,x,p,v,N,w]);const I=()=>{d(""),b("all"),j("all"),i("name","asc"),y.current&&y.current.focus()},Q=a=>{switch(a.target.value){case"name-asc":i("name","asc");break;case"name-desc":i("name","desc");break;case"faculty-asc":i("faculty","asc");break;case"category-asc":i("category","asc");break;default:i("name","asc")}},Z=a=>{const t=a.split("").reduce((H,V)=>V.charCodeAt(0)+((H<<5)-H),0),r=[15,45,75,105,135,165,195,225,255,285,315,345],s=r[Math.abs(t)%r.length],J=t%10-5,C=(s+J)%360;return{from:"#FFFFFF",via:`hsl(${C}, 65%, 85%)`,to:`hsl(${C}, 50%, 75%)`,angle:"135deg"}},q=a=>{const t=a.category.toLowerCase(),r=a.name.toLowerCase(),s="text-primary-800 w-10 h-10";return r.includes("keuangan")?e.jsx(A,{className:s}):r.includes("kehumasan")?e.jsx(L,{className:s}):r.includes("kerjasama")?e.jsx($,{className:s}):r.includes("lp2m")?e.jsx(P,{className:s}):r.includes("lpm")?e.jsx(R,{className:s}):r.includes("perpustakaan")||r.includes("library")?e.jsx(E,{className:s}):r.includes("umum")?e.jsx(f,{className:s}):r.includes("mahad")||r.includes("al jamiah")?e.jsx(f,{className:s}):r.includes("upkk")?e.jsx(ne,{className:s}):t.includes("keuangan")?e.jsx(A,{className:s}):t.includes("humas")||t.includes("publikasi")?e.jsx(L,{className:s}):t.includes("kerjasama")?e.jsx($,{className:s}):t.includes("penelitian")?e.jsx(P,{className:s}):t.includes("pengembangan")&&t.includes("akademik")?e.jsx(R,{className:s}):t.includes("perpustakaan")||t.includes("library")?e.jsx(E,{className:s}):t.includes("akademik")?e.jsx(f,{className:s}):t.includes("admin")?e.jsx(le,{className:s}):t.includes("kesehatan")?e.jsx(ie,{className:s}):t.includes("teknologi")?e.jsx(oe,{className:s}):t.includes("humas")?e.jsx(ce,{className:s}):e.jsxs("div",{className:"relative w-16 h-16 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-full"}),e.jsx("span",{className:"text-black text-3xl font-bold relative z-10 drop-shadow-md",children:a.name.charAt(0)})]})},G=a=>({"Fakultas Ekonomi dan Bisnis Islam":"FEBI","Fakultas Dakwah dan Ilmu Komunikasi":"FDIK","Fakultas Syariah":"FS","Fakultas Tarbiyah dan Keguruan":"FTK","Fakultas Ushuluddin dan Humaniora":"FUH",Pascasarjana:"Pasca","Unit Pelaksana Teknis":"UPT",Universitas:"Kampus",Rektorat:"Rektorat","Kantor Pusat":"Pusat"})[a]||a,S=document.createElement("style");return S.innerHTML=`
    .filter-shadow {
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.25));
    }
  `,document.head.appendChild(S),e.jsxs("div",{className:"pt-16 pb-8 px-4 md:px-6",children:[e.jsx("div",{className:"relative z-10 py-3 border-b border-gray-100 mt-4 mb-6",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(8px)"},children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex items-center",children:[e.jsx(z,{to:"/",className:"text-gray-500 hover:text-gray-800 transition-colors",children:e.jsx(X,{fontSize:"small",className:"text-gray-500"})}),e.jsx(Y,{fontSize:"small",className:"mx-2 text-gray-300"}),e.jsx("p",{className:"font-medium text-gray-800 text-xs",children:"Direktori"})]})}),e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 max-w-4xl mt-6",children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-secondary-900 sm:text-5xl tracking-tight",children:"Unit Layanan UIN Antasari Banjarmasin"}),e.jsx("p",{className:"mt-3 text-xl text-secondary-600 max-w-3xl",children:"Silakan memilih layanan yang ingin Anda akses"})]}),e.jsx("div",{className:"mb-16 max-w-6xl",children:e.jsxs(n.div,{className:"flex flex-col lg:flex-row gap-4 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[e.jsxs(n.div,{className:"relative flex-grow transition-all duration-300",animate:{scale:c?1.005:1,y:c?-1:0},transition:{type:"spring",stiffness:400,damping:25},children:[e.jsx(_,{className:`absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 transition-all duration-300
                ${c?"text-primary-600 scale-110":"text-secondary-400"}`}),e.jsx("input",{ref:y,type:"text",placeholder:"Cari layanan",className:`py-3 px-12 w-full rounded-full border-2 text-lg
                ${c?"border-primary-400 shadow-lg shadow-primary-300/20 outline-none ring-2 ring-primary-300/30":"border-secondary-200 shadow-md hover:border-primary-300/70 hover:shadow-lg"}
                bg-white/90 backdrop-blur-md transition-all duration-300`,value:o,onChange:a=>d(a.target.value),onFocus:()=>F(!0),onBlur:()=>F(!1)}),o&&e.jsx(n.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:`absolute right-7 top-4 -translate-y-1/2 h-6 w-6 text-red-500 hover:text-red-700 
                  bg-red-100 hover:bg-red-200 rounded-full flex items-center justify-center 
                  transition-all hover:shadow-sm`,onClick:()=>d(""),"aria-label":"Clear search",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(ee,{size:14})})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[e.jsxs(n.div,{className:"relative group",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("select",{className:`appearance-none pl-4 pr-10 py-3.5 rounded-full border-2 border-secondary-200 
                  bg-white/90 backdrop-blur-sm shadow-md text-secondary-800 
                  focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-300/30
                  cursor-pointer hover:border-primary-300/70 group-hover:shadow-lg
                  transition-all duration-300`,value:m,onChange:a=>b(a.target.value),"aria-label":"Filter by faculty",children:B.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full 
                bg-primary-100 group-hover:bg-primary-200 flex items-center justify-center transition-all duration-300`,children:e.jsx(g,{size:14,className:"text-primary-600 group-hover:text-primary-700"})})]}),e.jsxs(n.div,{className:"relative group",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("select",{className:`appearance-none pl-4 pr-10 py-3.5 rounded-full border-2 border-secondary-200 
                  bg-white/90 backdrop-blur-sm shadow-md text-secondary-800 
                  focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-300/30
                  cursor-pointer hover:border-primary-300/70 group-hover:shadow-lg
                  transition-all duration-300`,value:u,onChange:a=>j(a.target.value),"aria-label":"Filter by category",children:O.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full 
                bg-primary-100 group-hover:bg-primary-200 flex items-center justify-center transition-all duration-300`,children:e.jsx(g,{size:14,className:"text-primary-600 group-hover:text-primary-700"})})]}),e.jsxs(n.div,{className:"relative group",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsxs("select",{className:`appearance-none pl-4 pr-10 py-3.5 rounded-full border-2 border-secondary-200 
                  bg-white/90 backdrop-blur-sm shadow-md text-secondary-800 
                  focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-300/30
                  cursor-pointer hover:border-primary-300/70 group-hover:shadow-lg
                  transition-all duration-300`,value:`${x}-${p}`,onChange:Q,"aria-label":"Sort by",children:[e.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),e.jsx("option",{value:"name-desc",children:"Nama (Z-A)"}),e.jsx("option",{value:"faculty-asc",children:"Fakultas"}),e.jsx("option",{value:"category-asc",children:"Kategori"})]}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full 
                bg-primary-100 group-hover:bg-primary-200 flex items-center justify-center transition-all duration-300`,children:e.jsx(g,{size:14,className:"text-primary-600 group-hover:text-primary-700"})})]}),(o||m!=="all"||u!=="all"||x!=="name"||p!=="asc")&&e.jsxs(n.button,{className:`py-0.5 px-5 flex items-center text-red-600 hover:text-red-800 rounded-full 
                  bg-red-50 hover:bg-red-100 shadow-md hover:shadow-lg transition-all duration-300 border-2 border-red-200`,onClick:I,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[e.jsx(T,{size:15,className:"mr-1.5 animate-pulse-slow"}),e.jsx("span",{className:"font-medium",children:"Reset Filter"})]})]})]})}),e.jsx(n.div,{className:"mb-6 text-secondary-600 flex items-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:e.jsxs("div",{className:"py-1 px-3 bg-secondary-100 rounded-full text-secondary-700 font-medium text-sm",children:[h.length," layanan ditemukan"]})}),h.length>0?e.jsx(n.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:h.map((a,t)=>{const r=Z(a.name);return e.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:Math.min(t*.05,.3)},whileHover:{scale:1.01,y:-2,transition:{type:"spring",stiffness:300,damping:50}},className:"group rounded-xl overflow-hidden bg-white shadow-sm hover:shadow-lg border-0",children:e.jsxs(z,{to:`/service/${a.id}`,className:"flex flex-col h-full",children:[e.jsxs("div",{className:"h-40 flex relative overflow-hidden",style:{background:`linear-gradient(${r.angle}, ${r.from} 0%, ${r.via} 50%, ${r.to} 100%)`},children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-filter backdrop-blur-[8px] z-0"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full opacity-10 bg-white"}),e.jsx("div",{className:"absolute -bottom-8 -left-8 w-24 h-24 rounded-full opacity-10 bg-white"}),e.jsx("div",{className:"m-auto relative z-10 transform group-hover:scale-110 transition-transform duration-300",children:e.jsx("div",{className:"p-4 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-lg",children:q(a)})}),e.jsx(n.button,{className:`absolute right-5 top-4 z-10 p-2 rounded-full bg-white/70 shadow-sm
                        hover:bg-white/90 transition-all duration-300 group/star`,onClick:s=>{s.preventDefault(),U(a.id)},"aria-label":k(a.id)?"Remove from favorites":"Add to favorites",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ae,{className:`${k(a.id)?"fill-amber-400 text-amber-400":"text-secondary-600 group-hover/star:text-amber-400"} transition-all duration-300`,style:{width:"18px",height:"18px"}})}),D(a.id)&&e.jsxs("div",{className:`absolute left-4 top-4 z-10 py-1 px-2.5 rounded-full
                        bg-white/60 text-primary-700 text-xs font-medium flex items-center gap-1.5 backdrop-blur-md border-[0.5px] border-primary-100`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{children:"Sudah Disurvei"})]})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:`text-base font-semibold text-secondary-900 
                      tracking-tight line-clamp-2 mb-1.5`,children:a.name}),e.jsx("p",{className:"text-sm text-secondary-600 line-clamp-3 mb-4 flex-grow leading-relaxed",children:a.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(se,{style:{width:"14px",height:"14px"},className:"mt-0.5 mr-2 flex-shrink-0 text-secondary-500"}),e.jsx("span",{className:"text-xs text-secondary-700 line-clamp-1",children:a.location})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(te,{style:{width:"14px",height:"14px"},className:"mt-0.5 mr-2 flex-shrink-0 text-secondary-500"}),e.jsx("span",{className:"text-xs text-secondary-700 line-clamp-1",children:a.operationalHours})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-secondary-100/80",children:[e.jsx("span",{className:`inline-flex text-[11px] font-medium py-0.5 px-2 rounded-md
                        items-center truncate max-w-[48%] bg-secondary-50 text-secondary-800`,children:e.jsx("span",{className:"truncate",children:G(a.faculty)})}),e.jsx("span",{className:`inline-flex text-[11px] font-medium py-0.5 px-2 rounded-md
                        items-center truncate max-w-[48%] bg-secondary-50 text-secondary-800`,children:e.jsx("span",{className:"truncate",children:a.category})})]})]})]})},a.id)})}):e.jsx(n.div,{className:"py-16 flex flex-col items-center justify-center bg-white rounded-3xl shadow-sm border border-secondary-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(re,{size:52,className:"mx-auto mb-4 text-secondary-300",strokeWidth:1.5}),e.jsx("h3",{className:"text-xl font-medium text-secondary-900 mb-2",children:"Tidak ada layanan yang ditemukan"}),e.jsx("p",{className:"text-secondary-600 mb-6",children:"Coba ubah kata kunci pencarian atau filter Anda untuk menemukan layanan yang sesuai."}),e.jsxs(n.button,{className:`mx-auto py-3 px-6 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-xl
                shadow-sm hover:shadow transition-all duration-300 flex items-center justify-center`,onClick:I,whileHover:{scale:1.03},whileTap:{scale:.97},children:[e.jsx(T,{size:15,className:"mr-2"}),"Reset Filter"]})]})})]})};export{be as default};
