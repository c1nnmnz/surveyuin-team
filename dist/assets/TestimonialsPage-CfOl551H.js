import{j as e,u as A,f as B,g as j,h as g,aw as L,aN as M,s as D,c as y,ar as E}from"./ui-components-E1kookGP.js";import{r as i,L as U}from"./vendor-Bo00a0u0.js";const z=()=>{const[v,N]=i.useState(!0),[d,f]=i.useState([]),[p,b]=i.useState([]),[m,k]=i.useState(""),[c,w]=i.useState("all"),[o,T]=i.useState("newest");i.useEffect(()=>{setTimeout(()=>{const a=[{id:1,name:"Ari Ganteng",role:"Mahasiswa Politeknik Negeri Tanah Laut",content:"Aplikasi yang sangat membantu untuk memberikan feedback ke layanan kampus. Tampilannya mudah digunakan dan responsif.",rating:5,isFeatured:!0,timestamp:"3 hari yang lalu",date:"2023-04-20T10:30:00",profileImage:null,gender:"male",helpfulCount:12},{id:2,name:"Anonymous",role:"Anonymous",content:"Kok Ngeleg di HP Aku yah ðŸ˜‘",rating:1,isFeatured:!1,timestamp:"Baru Saja",date:"2023-04-25T09:15:00",profileImage:null,gender:"female",helpfulCount:0},{id:3,name:"Ahmad Fauzi",role:"Dosen Fakultas Ekonomi",content:"Platform yang sangat bermanfaat untuk mendapatkan masukan dari mahasiswa. Sangat merekomendasikan untuk digunakan di semua layanan kampus.",rating:5,isFeatured:!1,timestamp:"2 minggu yang lalu",date:"2023-04-12T13:45:00",profileImage:null,gender:"male",helpfulCount:8},{id:4,name:"Anonymous",role:"Mahasiswa Politeknik Negeri Tanah Laut",content:"Semangat ketua!",rating:5,isFeatured:!1,timestamp:"Baru Saja",date:"2023-04-25T08:20:00",profileImage:null,gender:"male",helpfulCount:2},{id:5,name:"Fadiyah Nur",role:"Mahasiswa Fakultas Ekonomi",content:"Fitur surveinya bagus, tapi kadang masih ada lag di beberapa bagian. Semoga bisa diperbaiki di update selanjutnya.",rating:4,isFeatured:!1,timestamp:"1 minggu yang lalu",date:"2023-04-18T11:30:00",profileImage:null,gender:"female",helpfulCount:5},{id:6,name:"Arif Rahman",role:"Mahasiswa Fakultas Teknik",content:"Sangat membantu untuk memberikan feedback ke layanan kampus. Semoga layanan kampus jadi lebih baik dengan adanya survei ini.",rating:5,isFeatured:!1,timestamp:"5 hari yang lalu",date:"2023-04-20T14:20:00",profileImage:null,gender:"male",helpfulCount:7},{id:7,name:"Bayu Pratama",role:"Alumni 2022",content:"Kualitas surveinya bagus, tapi perlu ditambahkan fitur untuk melacak perbaikan setelah masukan diberikan.",rating:3,isFeatured:!1,timestamp:"3 minggu yang lalu",date:"2023-04-05T16:10:00",profileImage:null,gender:"male",helpfulCount:3},{id:8,name:"Dina Permata",role:"Staff TU Fakultas Ekonomi",content:"Platform yang mudah digunakan untuk mendapatkan feedback dari mahasiswa. Sangat membantu untuk meningkatkan kualitas layanan.",rating:4,isFeatured:!1,timestamp:"2 minggu yang lalu",date:"2023-04-12T10:15:00",profileImage:null,gender:"female",helpfulCount:6}];f(a),b(a),N(!1)},1e3)},[]);const C=a=>a==="female"?"/profile_picture_female.png":"/profile_picture_male.png",u=(()=>{if(d.length===0)return{average:0,total:0,distribution:[]};const a=d.length,l=d.reduce((s,t)=>s+t.rating,0)/a,r=[5,4,3,2,1].map(s=>{const t=d.filter(P=>P.rating===s).length,h=t/a*100;return{rating:s,count:t,percentage:h}});return{average:l,total:a,distribution:r}})(),F=a=>{const n=a.target.value.toLowerCase();k(n),x(n,c,o)},S=a=>{w(a),x(m,a,o)},R=a=>{T(a),x(m,c,a)},x=(a,n,l)=>{let r=d.filter(s=>{const t=a===""||s.content.toLowerCase().includes(a)||s.name.toLowerCase().includes(a)||s.role.toLowerCase().includes(a),h=n==="all"||s.rating===parseInt(n);return t&&h});switch(l){case"newest":r.sort((s,t)=>new Date(t.date)-new Date(s.date));break;case"oldest":r.sort((s,t)=>new Date(s.date)-new Date(t.date));break;case"highest":r.sort((s,t)=>t.rating-s.rating);break;case"lowest":r.sort((s,t)=>s.rating-t.rating);break;case"helpful":r.sort((s,t)=>t.helpfulCount-s.helpfulCount);break}b(r)},I=a=>{const n=d.map(l=>l.id===a?{...l,helpfulCount:l.helpfulCount+1}:l);f(n),x(m,c,o)};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-16",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20 md:pt-24",children:[e.jsx("div",{className:"bg-white border-b border-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:e.jsxs("nav",{className:"flex items-center text-sm font-medium",children:[e.jsxs(U,{to:"/",className:"flex items-center text-primary-600 hover:text-primary-700 transition-colors",onClick:()=>window.scrollTo(0,0),children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only sm:not-sr-only sm:ml-2",children:"Beranda"})]}),e.jsx("div",{className:"flex items-center mx-2 text-gray-300",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-gray-800 flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Ulasan Pengguna"]})]})})}),e.jsx("div",{className:"bg-white shadow-sm mt-1 md:mt-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-secondary-900 mb-4",children:"Ulasan Pengguna"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-4xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(g,{className:"h-6 w-6 text-amber-500 fill-amber-500"}),e.jsx("h2",{className:"text-xl font-bold text-secondary-900 ml-2",children:"Rata-rata Rating"})]}),e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-secondary-900",children:u.average.toFixed(1)}),e.jsx("div",{className:"flex mt-2 justify-center",children:[1,2,3,4,5].map(a=>e.jsx(g,{className:`h-5 w-5 ${a<=Math.round(u.average)?"text-amber-500 fill-amber-500":"text-gray-300"}`},a))}),e.jsxs("div",{className:"text-sm text-secondary-600 mt-1",children:["dari ",u.total," ulasan"]})]}),e.jsx("div",{className:"flex-1 space-y-2",children:u.distribution.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-8 text-sm font-medium text-secondary-700",children:[a.rating," ",e.jsx(g,{className:"h-3 w-3 inline-block text-amber-500 fill-amber-500"})]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full ml-2",children:e.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${a.percentage}%`}})}),e.jsx("div",{className:"w-8 text-sm text-secondary-600 text-right ml-2",children:a.count})]},a.rating))})]})]}),e.jsxs("div",{className:"bg-white rounded-4xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(L,{className:"h-5 w-5 text-primary-600"}),e.jsx("h2",{className:"text-xl font-bold text-secondary-900 ml-2",children:"Filter & Pencarian"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Cari ulasan...",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 focus:outline-none bg-gray-50",value:m,onChange:F})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter Rating"}),e.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 focus:outline-none bg-gray-50",value:c,onChange:a=>S(a.target.value),children:[e.jsx("option",{value:"all",children:"Semua Rating"}),e.jsx("option",{value:"5",children:"5 Bintang"}),e.jsx("option",{value:"4",children:"4 Bintang"}),e.jsx("option",{value:"3",children:"3 Bintang"}),e.jsx("option",{value:"2",children:"2 Bintang"}),e.jsx("option",{value:"1",children:"1 Bintang"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urutkan"}),e.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 focus:outline-none bg-gray-50",value:o,onChange:a=>R(a.target.value),children:[e.jsx("option",{value:"newest",children:"Terbaru"}),e.jsx("option",{value:"oldest",children:"Terlama"}),e.jsx("option",{value:"highest",children:"Rating Tertinggi"}),e.jsx("option",{value:"lowest",children:"Rating Terendah"}),e.jsx("option",{value:"helpful",children:"Paling Membantu"})]})]})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-8",children:[p.map(a=>e.jsxs("div",{className:"relative",children:[a.isFeatured&&e.jsx("div",{className:"absolute -top-3 -right-3 z-10",children:e.jsxs("div",{className:"relative inline-flex",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-300 to-amber-500 rounded-full blur-sm opacity-50"}),e.jsxs("div",{className:"relative flex items-center px-3 py-1 bg-gradient-to-r from-amber-400 to-amber-500 text-white text-sm font-medium rounded-full shadow-md",children:[e.jsx(D,{className:"h-3.5 w-3.5 mr-1"}),"Ulasan Teratas"]})]})}),e.jsx("div",{className:y("bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md",a.isFeatured&&"border-2 border-amber-300 bg-gradient-to-b from-amber-50/50 to-white"),children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:y("w-12 h-12 rounded-full overflow-hidden",a.isFeatured?"ring-4 ring-amber-200":"ring-2 ring-gray-100"),children:a.profileImage?e.jsx("img",{src:a.profileImage,alt:a.name,className:"w-full h-full rounded-full object-cover"}):e.jsx("img",{src:C(a.gender),alt:a.name,className:"w-full h-full object-cover",onError:n=>{n.target.onerror=null,n.target.parentNode.innerHTML=`<div class="w-full h-full rounded-full flex items-center justify-center ${a.gender==="female"?"bg-pink-500":"bg-blue-500"} text-white font-bold text-lg">${a.name.charAt(0)}</div>`}})})}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-secondary-900 truncate",children:a.name}),e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(n=>e.jsx(g,{className:`h-5 w-5 ${n<=a.rating?"text-amber-500 fill-amber-500":"text-gray-300"}`},n))})]}),e.jsxs("p",{className:"text-sm text-secondary-600",children:[a.role," â€¢ ",a.timestamp]}),e.jsx("div",{className:"mt-3 text-secondary-800",children:a.content}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsxs("button",{className:"flex items-center text-secondary-600 hover:text-primary-600 transition-colors",onClick:()=>I(a.id),children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:a.helpfulCount>0?`${a.helpfulCount} orang merasa terbantu`:"Tandai membantu"})]})})]})]})})})]},a.id)),p.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[e.jsx(j,{className:"h-12 w-12 text-secondary-300 mx-auto"}),e.jsx("h3",{className:"mt-2 text-xl font-medium text-secondary-900",children:"Tidak Ada Ulasan yang Ditemukan"}),e.jsx("p",{className:"mt-1 text-secondary-600",children:"Tidak ada ulasan yang cocok dengan filter Anda. Coba ubah filter atau kurangi kata kunci pencarian."})]})]})})]})};export{z as default};
